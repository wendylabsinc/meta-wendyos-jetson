# Filesystem already present, but keep here for clarity
CONFIG_CONFIGFS_FS=y

# Gadget core + ConfigFS framework
CONFIG_USB_GADGET=y
CONFIG_USB_LIBCOMPOSITE=m
CONFIG_USB_CONFIGFS=m

# USB Network function modules (actual .ko files)
CONFIG_USB_F_NCM=m
CONFIG_USB_F_ECM=m

# USB ConfigFS selectors (bool, not tristate)
CONFIG_USB_CONFIGFS_NCM=y
CONFIG_USB_CONFIGFS_ECM=y

# Serial console functions (for /dev/ttyGS0 if needed)
# Generic serial - shows as ttyUSB on host
CONFIG_USB_F_SERIAL=m
CONFIG_USB_CONFIGFS_SERIAL=y
# ACM - shows as ttyACM on host (better Windows/macOS support)
CONFIG_USB_F_ACM=m
CONFIG_USB_CONFIGFS_ACM=y

