# Filesystem already present, but keep here for clarity:
CONFIG_CONFIGFS_FS=y

# Gadget core + ConfigFS framework
CONFIG_USB_GADGET=y
CONFIG_USB_LIBCOMPOSITE=y
CONFIG_USB_CONFIGFS=y

# USB Network function drivers (built-in)
CONFIG_USB_F_NCM=y
CONFIG_USB_F_ECM=y

# USB ConfigFS selectors
CONFIG_USB_CONFIGFS_NCM=y      # NCM (preferred for Linux/Win11/macOS)
CONFIG_USB_CONFIGFS_ECM=y      # ECM (fallback)

# Serial console functions (for /dev/ttyGS0 if needed)
# Generic serial - shows as ttyUSB on host
CONFIG_USB_F_SERIAL=y
CONFIG_USB_CONFIGFS_SERIAL=y
# ACM - shows as ttyACM on host (better Windows/macOS support)
CONFIG_USB_F_ACM=y
CONFIG_USB_CONFIGFS_ACM=y

