
#MACHINE = "jetson-orin-nano-devkit-edgeos"
MACHINE = "jetson-orin-nano-devkit-nvme-edgeos"
DL_DIR = "${TOPDIR}/../downloads"
SSTATE_DIR = "${TOPDIR}/../sstate-cache"
#TMPDIR = "${TOPDIR}/tmp"
DISTRO = "edgeos"
#EXTRA_IMAGE_FEATURES ?= "debug-tweaks"
USER_CLASSES = "buildstats"
PATCHRESOLVE = "noop"

BB_DISKMON_DIRS ??= "\
    STOPTASKS,${TMPDIR},1G,100K \
    STOPTASKS,${DL_DIR},1G,100K \
    STOPTASKS,${SSTATE_DIR},1G,100K \
    STOPTASKS,/tmp,100M,100K \
    HALT,${TMPDIR},100M,1K \
    HALT,${DL_DIR},100M,1K \
    HALT,${SSTATE_DIR},100M,1K \
    HALT,/tmp,10M,1K"

PACKAGECONFIG:append:pn-qemu-system-native = " sdl"
CONF_VERSION = "2"

# #GADGET_FUNC_ORDER="ecm ncm"

EDGEOS_FLASH_IMAGE_SIZE = "64GB"

EDGEOS_DEBUG = "1"
EDGEOS_DEBUG_UART = "1"
EDGEOS_USB_GADGET = "1"
EDGEOS_PERSIST_JOURNAL_LOGS = "1"

# Enable UEFI capsule updates (bootloader updates via Mender)
# Set to "1" to include bootloader updates in OTA deployments
EDGEOS_UPDATE_BOOTLOADER ?= "0"

# NVIDIA L4T Version Control
# Pin to specific L4T release (configured in distro/include/l4t-r36-4-4.conf)
# L4T_VERSION is already set in distro config, these are for reference:
# L4T 36.4.4 = JetPack 6.1 with CUDA 12.6, cuDNN 9.3, TensorRT 10.3
