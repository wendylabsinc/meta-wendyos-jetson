
# jetson-orin-nano-devkit-wendyos.conf

# include upstream base if available
require conf/machine/jetson-orin-nano-devkit.conf

# AB upgrades & bootloader choices (board-specific)
UBOOT_EXTLINUX = "1"
USE_REDUNDANT_FLASH_LAYOUT_DEFAULT = "1"

MENDER_FEATURES_DISABLE:append = " mender-uboot"
MENDER_EFI_LOADER = ""

# UEFI Capsule Update Configuration
# Disable Secure Boot for development/testing (no signing keys configured)
# When "false": No key enrollment, Secure Boot disabled, unsigned capsules accepted
# Set to "true" for production after implementing proper signing infrastructure
TEGRA_UEFI_USE_SIGNED_FILES = "false"

# Storage geometry (board-specific)
MENDER_STORAGE_TOTAL_SIZE_MB = "16384"
MENDER_STORAGE_DEVICE_BASE = "/dev/mmcblk0p"
MENDER_BOOT_PART = "${MENDER_STORAGE_DEVICE_BASE}11"
MENDER_DATA_PART = "${MENDER_STORAGE_DEVICE_BASE}15"
MENDER_ROOTFS_PART_A = "${MENDER_STORAGE_DEVICE_BASE}1"
MENDER_ROOTFS_PART_B = "${MENDER_STORAGE_DEVICE_BASE}2"

# Initial size - will auto-expand on first boot
MENDER_DATA_PART_SIZE_MB = "400"

# Jetson image formats that are machine/BSP oriented:
IMAGE_FSTYPES:tegra = "tegraflash mender dataimg"
IMAGE_FSTYPES:pn-tegra-minimal-initramfs:tegra = "${INITRAMFS_FSTYPES}"
IMAGE_FSTYPES:pn-tegra-initrd-flash-initramfs:tegra = "${TEGRA_INITRD_FLASH_INITRAMFS_FSTYPES}"

# If you really need it, board param (but consider removing if unused):
EMMC_SIZE = "0"
